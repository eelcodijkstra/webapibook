
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>REST API’s &#8212; Het programmeerbare web</title>
    
  <link rel="stylesheet" href="_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Voorbeeld: Trello" href="trello.html" />
    <link rel="prev" title="HTTP in Python" href="python-http.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  <img src="_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Het programmeerbare web</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="inleiding.html">
   Inleiding
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="http.html">
   Het HTTP protocol
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="python-http.html">
   HTTP in Python
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   REST API’s
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="trello.html">
   Voorbeeld: Trello
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="matrix.html">
   Matrix instant messaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tools.html">
   Tools en links
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="presentaties.html">
   Presentaties
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Inleiding-Jupyter.html">
   Inleiding Jupyter Notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="binder.html">
   Binder
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/rest-apis.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/eelcodijkstra/webapibook"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/eelcodijkstra/webapibook/issues/new?title=Issue%20on%20page%20%2Frest-apis.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/eelcodijkstra/webapibook/master?urlpath=tree/rest-apis.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rest">
   REST
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#eigenschappen-http-methods">
   Eigenschappen HTTP methods
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#collecties-van-resources">
   Collecties van resources
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#voorbeeld-lamp-aan-en-uitschakelen">
   Voorbeeld: lamp aan- en uitschakelen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#crud">
   CRUD
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="rest-api-s">
<h1>REST API’s<a class="headerlink" href="#rest-api-s" title="Permalink to this headline">¶</a></h1>
<p>REST web-API’s volgen een bepaalde stijl die aansluit bij de principes (<em>architectuur</em>) van het web.
Als je deze stijl kent, kun je redelijk snel begrijpen hoe een bepaald API in deze stijl werkt.</p>
<p>Naast REST zijn er ook andere stijlen van web-API’s in gebruik, zoals RPC (remote procedure call) of SOAP (???).
Tegenwoordig wint de GraphQL-stijl aan populariteit.
Daarmee kun je wat preciezer aangeven welke data je wilt ophalen via de API.</p>
<div class="section" id="rest">
<h2>REST<a class="headerlink" href="#rest" title="Permalink to this headline">¶</a></h2>
<p>REST staat voor Representational State Transfer. (REF - wikipedia)
Dit is gebaseerd op het volgende model van het web:</p>
<ul class="simple">
<li><p>resource: dit is de web-term voor “ding”; dit kan zowel een concreet iets zijn, zoals een lamp; een persoon, zoals Rembrandt; of een abstract idee, zoals democratie.</p></li>
<li><p>URI en URL: een resource kun je identificeren met een URI (uniform resource identifier) of een URL (uniform resource locator). Deze identificaties zijn context-onafhankelijk: overal waar je deze gebruikt heeft deze dezelfde betekenis. Het voordeel van een URL is dat deze ook aangeeft waar je meer over de resource kunt vinden.</p>
<ul>
<li><p>voor gewone namen is dat niet het geval: de betekenis daarvan hangt sterk af van de context.</p></li>
</ul>
</li>
<li><p>toestand (state) van een resource: een resource heeft een toestand. Deze toestand kun je beschrijven (“representeren”) door middel van een document, bijvoorbeeld (in de context van het web) een HTML-document of een JSON-document. Bij een resource kun je verschillende documenten hebben die  de toestand beschrijven, afhnakelijk van de wensen van de gebruiker (bijvoorbeeld: HTML, in het Engels of in het Nederladnds; of JSON).</p></li>
<li><p>door middel van een document (-aanpassing) kun je de toestand van de resource veranderen - als dat mogelijk is via dit interface.</p></li>
<li><p>HTTP-methods: met behulp van de verschillende HTTP-methods kun je de toestand van een resource opvragen, aanpassen, een resource aanmaken of verwijderen. Daarbij is het belangrijk dat je de recht doet aan de normale betekenis van de HTTP-methods, zoals <code class="docutils literal notranslate"><span class="pre">GET</span></code> voor het opvragen van de toestand.</p></li>
</ul>
</div>
<div class="section" id="eigenschappen-http-methods">
<h2>Eigenschappen HTTP methods<a class="headerlink" href="#eigenschappen-http-methods" title="Permalink to this headline">¶</a></h2>
<p>In een REST API houd je rekening met de betekenis en eigenschappen van de HTTP-methods.
(Er is niets dat dit gebruik afdwingt, maar dit zijn wel de aannames die overal in de web-infrastructuur gebruikt worden.)</p>
<ul class="simple">
<li><p>GET: idempotent; geen verandering in toestand van de resource</p></li>
<li><p>POST: niet idempotent; (mogelijk) verandering in de toestand van de resource</p></li>
<li><p>PUT: idempotent; verandering in de toestand</p></li>
<li><p>DELETE: idempotent; verandering in de toestand</p></li>
</ul>
<p>Eén van de gevolgen is dat je eenzelfde GET-operaties zonder problemen kunt herhalen.
Voor een POST is dat niet het geval: de browser vraagt daarom bijvoorbeeld of je de opdracht nog een keer wilt uitvoeren. Het nogmaals opsturen van een formulier kan bijvoorbeeld betekenen dat je het artkel nog een keer bestelt.
De <code class="docutils literal notranslate"><span class="pre">PUT</span></code> en <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> operaties zijn wel idempotent.</p>
<p><strong>idempotent: (tegen)voorbeelden</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">:=</span> <span class="pre">10</span></code> is idempotent en verandert de waarde (toestand) van <code class="docutils literal notranslate"><span class="pre">i</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">:=</span> <span class="pre">i</span> <span class="pre">+</span> <span class="pre">1</span></code> verandert de waarde van <code class="docutils literal notranslate"><span class="pre">i</span></code> op een niet-idempotente manier.</p></li>
<li><p>op een afstandsbediening is het kiezen van NPO-1 idempotent,</p></li>
<li><p>en het zappen naar de volgende zender niet idempotent</p></li>
</ul>
<p>Idempotente operaties zijn vooral handig is de communicatie niet volledig betrouwbaar is (zoals in het web):
als je niet weet of een bericht overgekomen is, kun je dat zonder risico nog een keer sturen.</p>
<p>Nog een voorbeeld: een bediening van een lamp met twee knoppen, “aan” en “uit”, is idempotent.
Dit soort knoppen vind je vaak bij IoT-apparaten, waarbij het niet altijd duidelijk is of een bericht niet aangekomen is,
of dat de verwerking wat langer duurt dan je verwacht.</p>
</div>
<div class="section" id="collecties-van-resources">
<h2>Collecties van resources<a class="headerlink" href="#collecties-van-resources" title="Permalink to this headline">¶</a></h2>
<p>Vaak heb je te maken met een collectie van soortgelijke resources waarbinnen je de individuele resources wilt kunnen onderscheiden.
Een gebruikelijke manier is om de verzameling een naam te geven, en de elementen daarin een nummer als identificatie.</p>
<p>We gebruiken hier als naam voor een verzameling het <em>meervoud</em>, dus bijvoorbeeld: <code class="docutils literal notranslate"><span class="pre">lists</span></code>, of <code class="docutils literal notranslate"><span class="pre">cards</span></code>.
Een bepaalde lijst geven we dan bijvoorbeeld aan als: <code class="docutils literal notranslate"><span class="pre">lists/53</span></code>, een kaart als <code class="docutils literal notranslate"><span class="pre">cards/92</span></code>. Een kaart als onderdeel van een lijst: <code class="docutils literal notranslate"><span class="pre">lists/53/cards/11</span></code>. Dit laatste is een voorbeeld van een <em>geneste resource</em>.</p>
<blockquote>
<div><p>Sommige web-API’s gebruiken enkelvoud in plaats van meervoud voor het benoemen van een collectie. Trello accepteert zowel meervoud (volgens de documentatie) als enkelvoud (als alternatief).</p>
</div></blockquote>
</div>
<div class="section" id="voorbeeld-lamp-aan-en-uitschakelen">
<h2>Voorbeeld: lamp aan- en uitschakelen<a class="headerlink" href="#voorbeeld-lamp-aan-en-uitschakelen" title="Permalink to this headline">¶</a></h2>
<p>Voor het aansturen van een lamp kun je de volgende API gebruiken:</p>
<ul class="simple">
<li><p>URL: <code class="docutils literal notranslate"><span class="pre">/lamps/17</span></code> - dit is de identificatie van de lamp (pad-gedeelte van de URL)</p></li>
<li></li>
</ul>
<p>Opmerking: in dit geval is de URL van de lamp lokaal: je gebruikt immers een lokaal netwerkadres.
Dit betekent dat je deze lamp niet wereldwijd op dezelfde manier kunt identificeren; maar misschien wil je dat ook niet.</p>
</div>
<div class="section" id="crud">
<h2>CRUD<a class="headerlink" href="#crud" title="Permalink to this headline">¶</a></h2>
<p>In de database-wereld staat CRUD voor: create, read, update, delete. Dit zijn de basisoperaties op de elementen in een database.</p>
<p>Met behulp van een REST API kun je dit als volgt uitvoeren, voor een collectie van <code class="docutils literal notranslate"><span class="pre">things</span></code>.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>method</p></th>
<th class="text-align:left head"><p><code class="docutils literal notranslate"><span class="pre">/things</span></code></p></th>
<th class="text-align:left head"><p><code class="docutils literal notranslate"><span class="pre">/things/id</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>GET</p></td>
<td class="text-align:left"><p>get all things (ids)</p></td>
<td class="text-align:left"><p>get state of thing <code class="docutils literal notranslate"><span class="pre">id</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>POST</p></td>
<td class="text-align:left"><p>create new thing</p></td>
<td class="text-align:left"><p>-</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>PUT</p></td>
<td class="text-align:left"><p>-</p></td>
<td class="text-align:left"><p>set/update thing <code class="docutils literal notranslate"><span class="pre">id</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>DELETE</p></td>
<td class="text-align:left"><p>-</p></td>
<td class="text-align:left"><p>delete thing <code class="docutils literal notranslate"><span class="pre">id</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="python-http.html" title="previous page">HTTP in Python</a>
    <a class='right-next' id="next-link" href="trello.html" title="next page">Voorbeeld: Trello</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Eelco Dijkstra<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>